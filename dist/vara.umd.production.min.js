!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){return(t=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,e)};function e(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function i(t,r){var e=t[0],i=t[1];return[e*Math.cos(r)-i*Math.sin(r),e*Math.sin(r)+i*Math.cos(r)]}function n(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=0;e<t.length;e++)if("number"!=typeof t[e])throw new Error("assertNumbers arguments["+e+"] is not a number. "+typeof t[e]+" == typeof "+t[e]);return!0}var a=Math.PI;function o(t,r,e){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var n=t.rX,o=t.rY,s=t.x,u=t.y;n=Math.abs(t.rX),o=Math.abs(t.rY);var c=i([(r-s)/2,(e-u)/2],-t.xRot/180*a),h=c[0],p=c[1],y=Math.pow(h,2)/Math.pow(n,2)+Math.pow(p,2)/Math.pow(o,2);1<y&&(n*=Math.sqrt(y),o*=Math.sqrt(y)),t.rX=n,t.rY=o;var m=Math.pow(n,2)*Math.pow(p,2)+Math.pow(o,2)*Math.pow(h,2),f=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(o,2)-m)/m)),l=n*p/o*f,v=-o*h/n*f,O=i([l,v],t.xRot/180*a);t.cX=O[0]+(r+s)/2,t.cY=O[1]+(e+u)/2,t.phi1=Math.atan2((p-v)/o,(h-l)/n),t.phi2=Math.atan2((-p-v)/o,(-h-l)/n),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*a),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*a),t.phi1*=180/a,t.phi2*=180/a}function s(t,r,e){n(t,r,e);var i=t*t+r*r-e*e;if(0>i)return[];if(0===i)return[[t*e/(t*t+r*r),r*e/(t*t+r*r)]];var a=Math.sqrt(i);return[[(t*e+r*a)/(t*t+r*r),(r*e-t*a)/(t*t+r*r)],[(t*e-r*a)/(t*t+r*r),(r*e+t*a)/(t*t+r*r)]]}var u,c=Math.PI/180;function h(t,r,e){return(1-e)*t+e*r}function p(t,r,e,i){return t+Math.cos(i/180*a)*r+Math.sin(i/180*a)*e}function y(t,r,e,i){var n=r-t,a=e-r,o=3*n+3*(i-e)-6*a,s=6*(a-n),u=3*n;return Math.abs(o)<1e-6?[-u/s]:function(t,r,e){void 0===e&&(e=1e-6);var i=t*t/4-r;if(i<-e)return[];if(i<=e)return[-t/2];var n=Math.sqrt(i);return[-t/2-n,-t/2+n]}(s/o,u/o,1e-6)}function m(t,r,e,i,n){var a=1-n;return t*(a*a*a)+r*(3*a*a*n)+e*(3*a*n*n)+i*(n*n*n)}!function(t){function r(){return u((function(t,r,e){return t.relative&&(void 0!==t.x1&&(t.x1+=r),void 0!==t.y1&&(t.y1+=e),void 0!==t.x2&&(t.x2+=r),void 0!==t.y2&&(t.y2+=e),void 0!==t.x&&(t.x+=r),void 0!==t.y&&(t.y+=e),t.relative=!1),t}))}function e(){var t=NaN,r=NaN,e=NaN,i=NaN;return u((function(n,a,o){return n.type&T.SMOOTH_CURVE_TO&&(n.type=T.CURVE_TO,t=isNaN(t)?a:t,r=isNaN(r)?o:r,n.x1=n.relative?a-t:2*a-t,n.y1=n.relative?o-r:2*o-r),n.type&T.CURVE_TO?(t=n.relative?a+n.x2:n.x2,r=n.relative?o+n.y2:n.y2):(t=NaN,r=NaN),n.type&T.SMOOTH_QUAD_TO&&(n.type=T.QUAD_TO,e=isNaN(e)?a:e,i=isNaN(i)?o:i,n.x1=n.relative?a-e:2*a-e,n.y1=n.relative?o-i:2*o-i),n.type&T.QUAD_TO?(e=n.relative?a+n.x1:n.x1,i=n.relative?o+n.y1:n.y1):(e=NaN,i=NaN),n}))}function a(){var t=NaN,r=NaN;return u((function(e,i,n){if(e.type&T.SMOOTH_QUAD_TO&&(e.type=T.QUAD_TO,t=isNaN(t)?i:t,r=isNaN(r)?n:r,e.x1=e.relative?i-t:2*i-t,e.y1=e.relative?n-r:2*n-r),e.type&T.QUAD_TO){t=e.relative?i+e.x1:e.x1,r=e.relative?n+e.y1:e.y1;var a=e.x1,o=e.y1;e.type=T.CURVE_TO,e.x1=((e.relative?0:i)+2*a)/3,e.y1=((e.relative?0:n)+2*o)/3,e.x2=(e.x+2*a)/3,e.y2=(e.y+2*o)/3}else t=NaN,r=NaN;return e}))}function u(t){var r=0,e=0,i=NaN,n=NaN;return function(a){if(isNaN(i)&&!(a.type&T.MOVE_TO))throw new Error("path must start with moveto");var o=t(a,r,e,i,n);return a.type&T.CLOSE_PATH&&(r=i,e=n),void 0!==a.x&&(r=a.relative?r+a.x:a.x),void 0!==a.y&&(e=a.relative?e+a.y:a.y),a.type&T.MOVE_TO&&(i=r,n=e),o}}function f(t,r,e,i,a,o){return n(t,r,e,i,a,o),u((function(n,s,u,c){var h=n.x1,p=n.x2,y=n.relative&&!isNaN(c),m=void 0!==n.x?n.x:y?0:s,f=void 0!==n.y?n.y:y?0:u;function l(t){return t*t}n.type&T.HORIZ_LINE_TO&&0!==r&&(n.type=T.LINE_TO,n.y=n.relative?0:u),n.type&T.VERT_LINE_TO&&0!==e&&(n.type=T.LINE_TO,n.x=n.relative?0:s),void 0!==n.x&&(n.x=n.x*t+f*e+(y?0:a)),void 0!==n.y&&(n.y=m*r+n.y*i+(y?0:o)),void 0!==n.x1&&(n.x1=n.x1*t+n.y1*e+(y?0:a)),void 0!==n.y1&&(n.y1=h*r+n.y1*i+(y?0:o)),void 0!==n.x2&&(n.x2=n.x2*t+n.y2*e+(y?0:a)),void 0!==n.y2&&(n.y2=p*r+n.y2*i+(y?0:o));var v=t*i-r*e;if(void 0!==n.xRot&&(1!==t||0!==r||0!==e||1!==i))if(0===v)delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag,n.type=T.LINE_TO;else{var O=n.xRot*Math.PI/180,d=Math.sin(O),_=Math.cos(O),N=1/l(n.rX),x=1/l(n.rY),E=l(_)*N+l(d)*x,C=2*d*_*(N-x),A=l(d)*N+l(_)*x,M=E*i*i-C*r*i+A*r*r,R=C*(t*i+r*e)-2*(E*e*i+A*t*r),g=E*e*e-C*t*e+A*t*t,S=(Math.atan2(R,M-g)+Math.PI)%Math.PI/2,I=Math.sin(S),w=Math.cos(S);n.rX=Math.abs(v)/Math.sqrt(M*l(w)+R*I*w+g*l(I)),n.rY=Math.abs(v)/Math.sqrt(M*l(I)-R*I*w+g*l(w)),n.xRot=180*S/Math.PI}return void 0!==n.sweepFlag&&0>v&&(n.sweepFlag=+!n.sweepFlag),n}))}t.ROUND=function(t){function r(r){return Math.round(r*t)/t}return void 0===t&&(t=1e13),n(t),function(t){return void 0!==t.x1&&(t.x1=r(t.x1)),void 0!==t.y1&&(t.y1=r(t.y1)),void 0!==t.x2&&(t.x2=r(t.x2)),void 0!==t.y2&&(t.y2=r(t.y2)),void 0!==t.x&&(t.x=r(t.x)),void 0!==t.y&&(t.y=r(t.y)),void 0!==t.rX&&(t.rX=r(t.rX)),void 0!==t.rY&&(t.rY=r(t.rY)),t}},t.TO_ABS=r,t.TO_REL=function(){return u((function(t,r,e){return t.relative||(void 0!==t.x1&&(t.x1-=r),void 0!==t.y1&&(t.y1-=e),void 0!==t.x2&&(t.x2-=r),void 0!==t.y2&&(t.y2-=e),void 0!==t.x&&(t.x-=r),void 0!==t.y&&(t.y-=e),t.relative=!0),t}))},t.NORMALIZE_HVZ=function(t,r,e){return void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===e&&(e=!0),u((function(i,n,a,o,s){if(isNaN(o)&&!(i.type&T.MOVE_TO))throw new Error("path must start with moveto");return r&&i.type&T.HORIZ_LINE_TO&&(i.type=T.LINE_TO,i.y=i.relative?0:a),e&&i.type&T.VERT_LINE_TO&&(i.type=T.LINE_TO,i.x=i.relative?0:n),t&&i.type&T.CLOSE_PATH&&(i.type=T.LINE_TO,i.x=i.relative?o-n:o,i.y=i.relative?s-a:s),i.type&T.ARC&&(0===i.rX||0===i.rY)&&(i.type=T.LINE_TO,delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag),i}))},t.NORMALIZE_ST=e,t.QT_TO_C=a,t.INFO=u,t.SANITIZE=function(t){void 0===t&&(t=0),n(t);var r=NaN,e=NaN,i=NaN,a=NaN;return u((function(n,o,s,u,c){var h=Math.abs,p=!1,y=0,m=0;if(n.type&T.SMOOTH_CURVE_TO&&(y=isNaN(r)?0:o-r,m=isNaN(e)?0:s-e),n.type&(T.CURVE_TO|T.SMOOTH_CURVE_TO)?(r=n.relative?o+n.x2:n.x2,e=n.relative?s+n.y2:n.y2):(r=NaN,e=NaN),n.type&T.SMOOTH_QUAD_TO?(i=isNaN(i)?o:2*o-i,a=isNaN(a)?s:2*s-a):n.type&T.QUAD_TO?(i=n.relative?o+n.x1:n.x1,a=n.relative?s+n.y1:n.y2):(i=NaN,a=NaN),n.type&T.LINE_COMMANDS||n.type&T.ARC&&(0===n.rX||0===n.rY||!n.lArcFlag)||n.type&T.CURVE_TO||n.type&T.SMOOTH_CURVE_TO||n.type&T.QUAD_TO||n.type&T.SMOOTH_QUAD_TO){var f=void 0===n.x?0:n.relative?n.x:n.x-o,l=void 0===n.y?0:n.relative?n.y:n.y-s;y=isNaN(i)?void 0===n.x1?y:n.relative?n.x:n.x1-o:i-o,m=isNaN(a)?void 0===n.y1?m:n.relative?n.y:n.y1-s:a-s;var v=void 0===n.x2?0:n.relative?n.x:n.x2-o,O=void 0===n.y2?0:n.relative?n.y:n.y2-s;h(f)<=t&&h(l)<=t&&h(y)<=t&&h(m)<=t&&h(v)<=t&&h(O)<=t&&(p=!0)}return n.type&T.CLOSE_PATH&&h(o-u)<=t&&h(s-c)<=t&&(p=!0),p?[]:n}))},t.MATRIX=f,t.ROTATE=function(t,r,e){void 0===r&&(r=0),void 0===e&&(e=0),n(t,r,e);var i=Math.sin(t),a=Math.cos(t);return f(a,i,-i,a,r-r*a+e*i,e-r*i-e*a)},t.TRANSLATE=function(t,r){return void 0===r&&(r=0),n(t,r),f(1,0,0,1,t,r)},t.SCALE=function(t,r){return void 0===r&&(r=t),n(t,r),f(t,0,0,r,0,0)},t.SKEW_X=function(t){return n(t),f(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return n(t),f(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),n(t),f(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),n(t),f(1,0,0,-1,0,t)},t.A_TO_C=function(){return u((function(t,r,e){return T.ARC===t.type?function(t,r,e){var n,a,s,u;t.cX||o(t,r,e);for(var p=Math.min(t.phi1,t.phi2),y=Math.max(t.phi1,t.phi2)-p,m=Math.ceil(y/90),f=new Array(m),l=r,v=e,O=0;O<m;O++){var d=h(t.phi1,t.phi2,O/m),_=h(t.phi1,t.phi2,(O+1)/m),N=4/3*Math.tan((_-d)*c/4),x=[Math.cos(d*c)-N*Math.sin(d*c),Math.sin(d*c)+N*Math.cos(d*c)],E=x[0],C=x[1],A=[Math.cos(_*c),Math.sin(_*c)],M=A[0],R=A[1],g=[M+N*Math.sin(_*c),R-N*Math.cos(_*c)],S=g[0],I=g[1];f[O]={relative:t.relative,type:T.CURVE_TO};var w=function(r,e){var n=i([r*t.rX,e*t.rY],t.xRot);return[t.cX+n[0],t.cY+n[1]]};n=w(E,C),f[O].x1=n[0],f[O].y1=n[1],a=w(S,I),f[O].x2=a[0],f[O].y2=a[1],s=w(M,R),f[O].x=s[0],f[O].y=s[1],t.relative&&(f[O].x1-=l,f[O].y1-=v,f[O].x2-=l,f[O].y2-=v,f[O].x-=l,f[O].y-=v),l=(u=[f[O].x,f[O].y])[0],v=u[1]}return f}(t,t.relative?0:r,t.relative?0:e):t}))},t.ANNOTATE_ARCS=function(){return u((function(t,r,e){return t.relative&&(r=0,e=0),T.ARC===t.type&&o(t,r,e),t}))},t.CLONE=function(){return function(t){var r={};for(var e in t)r[e]=t[e];return r}},t.CALCULATE_BOUNDS=function(){var t=r(),i=a(),n=e(),c=u((function(r,e,a){var u=n(i(t(function(t){var r={};for(var e in t)r[e]=t[e];return r}(r))));function h(t){t>c.maxX&&(c.maxX=t),t<c.minX&&(c.minX=t)}function f(t){t>c.maxY&&(c.maxY=t),t<c.minY&&(c.minY=t)}if(u.type&T.DRAWING_COMMANDS&&(h(e),f(a)),u.type&T.HORIZ_LINE_TO&&h(u.x),u.type&T.VERT_LINE_TO&&f(u.y),u.type&T.LINE_TO&&(h(u.x),f(u.y)),u.type&T.CURVE_TO){h(u.x),f(u.y);for(var l=0,v=y(e,u.x1,u.x2,u.x);l<v.length;l++)0<(b=v[l])&&1>b&&h(m(e,u.x1,u.x2,u.x,b));for(var O=0,d=y(a,u.y1,u.y2,u.y);O<d.length;O++)0<(b=d[O])&&1>b&&f(m(a,u.y1,u.y2,u.y,b))}if(u.type&T.ARC){h(u.x),f(u.y),o(u,e,a);for(var _=u.xRot/180*Math.PI,N=Math.cos(_)*u.rX,x=Math.sin(_)*u.rX,E=-Math.sin(_)*u.rY,C=Math.cos(_)*u.rY,A=u.phi1<u.phi2?[u.phi1,u.phi2]:-180>u.phi2?[u.phi2+360,u.phi1+360]:[u.phi2,u.phi1],M=A[0],R=A[1],g=function(t){var r=180*Math.atan2(t[1],t[0])/Math.PI;return r<M?r+360:r},S=0,I=s(E,-N,0).map(g);S<I.length;S++)(b=I[S])>M&&b<R&&h(p(u.cX,N,E,b));for(var w=0,L=s(C,-x,0).map(g);w<L.length;w++){var b;(b=L[w])>M&&b<R&&f(p(u.cY,x,C,b))}}return r}));return c.minX=1/0,c.maxX=-1/0,c.minY=1/0,c.maxY=-1/0,c}}(u||(u={}));var f,l=function(){function t(){}return t.prototype.round=function(t){return this.transform(u.ROUND(t))},t.prototype.toAbs=function(){return this.transform(u.TO_ABS())},t.prototype.toRel=function(){return this.transform(u.TO_REL())},t.prototype.normalizeHVZ=function(t,r,e){return this.transform(u.NORMALIZE_HVZ(t,r,e))},t.prototype.normalizeST=function(){return this.transform(u.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(u.QT_TO_C())},t.prototype.aToC=function(){return this.transform(u.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(u.SANITIZE(t))},t.prototype.translate=function(t,r){return this.transform(u.TRANSLATE(t,r))},t.prototype.scale=function(t,r){return this.transform(u.SCALE(t,r))},t.prototype.rotate=function(t,r,e){return this.transform(u.ROTATE(t,r,e))},t.prototype.matrix=function(t,r,e,i,n,a){return this.transform(u.MATRIX(t,r,e,i,n,a))},t.prototype.skewX=function(t){return this.transform(u.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(u.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(u.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(u.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(u.ANNOTATE_ARCS())},t}(),v=function(t){return" "===t||"\t"===t||"\r"===t||"\n"===t},O=function(t){return"0".charCodeAt(0)<=t.charCodeAt(0)&&t.charCodeAt(0)<="9".charCodeAt(0)},d=function(t){function r(){var r=t.call(this)||this;return r.curNumber="",r.curCommandType=-1,r.curCommandRelative=!1,r.canParseCommandOrComma=!0,r.curNumberHasExp=!1,r.curNumberHasExpDigits=!1,r.curNumberHasDecimal=!1,r.curArgs=[],r}return e(r,t),r.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(" ",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},r.prototype.parse=function(t,r){var e=this;void 0===r&&(r=[]);for(var i=function(t){r.push(t),e.curArgs.length=0,e.canParseCommandOrComma=!0},n=0;n<t.length;n++){var a=t[n],o=!(this.curCommandType!==T.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),s=O(a)&&("0"===this.curNumber&&"0"===a||o);if(!O(a)||s)if("e"!==a&&"E"!==a)if("-"!==a&&"+"!==a||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==a||this.curNumberHasExp||this.curNumberHasDecimal||o){if(this.curNumber&&-1!==this.curCommandType){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+n);if(this.curCommandType===T.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>u)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+n+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+n+'"');this.curArgs.push(u),this.curArgs.length===_[this.curCommandType]&&(T.HORIZ_LINE_TO===this.curCommandType?i({type:T.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):T.VERT_LINE_TO===this.curCommandType?i({type:T.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===T.MOVE_TO||this.curCommandType===T.LINE_TO||this.curCommandType===T.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),T.MOVE_TO===this.curCommandType&&(this.curCommandType=T.LINE_TO)):this.curCommandType===T.CURVE_TO?i({type:T.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===T.SMOOTH_CURVE_TO?i({type:T.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===T.QUAD_TO?i({type:T.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===T.ARC&&i({type:T.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!v(a))if(","===a&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==a&&"-"!==a&&"."!==a)if(s)this.curNumber=a,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+n+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+a+'" at index '+n+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==a&&"Z"!==a)if("h"===a||"H"===a)this.curCommandType=T.HORIZ_LINE_TO,this.curCommandRelative="h"===a;else if("v"===a||"V"===a)this.curCommandType=T.VERT_LINE_TO,this.curCommandRelative="v"===a;else if("m"===a||"M"===a)this.curCommandType=T.MOVE_TO,this.curCommandRelative="m"===a;else if("l"===a||"L"===a)this.curCommandType=T.LINE_TO,this.curCommandRelative="l"===a;else if("c"===a||"C"===a)this.curCommandType=T.CURVE_TO,this.curCommandRelative="c"===a;else if("s"===a||"S"===a)this.curCommandType=T.SMOOTH_CURVE_TO,this.curCommandRelative="s"===a;else if("q"===a||"Q"===a)this.curCommandType=T.QUAD_TO,this.curCommandRelative="q"===a;else if("t"===a||"T"===a)this.curCommandType=T.SMOOTH_QUAD_TO,this.curCommandRelative="t"===a;else{if("a"!==a&&"A"!==a)throw new SyntaxError('Unexpected character "'+a+'" at index '+n+".");this.curCommandType=T.ARC,this.curCommandRelative="a"===a}else r.push({type:T.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=a,this.curNumberHasDecimal="."===a}else this.curNumber+=a,this.curNumberHasDecimal=!0;else this.curNumber+=a;else this.curNumber+=a,this.curNumberHasExp=!0;else this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp}return r},r.prototype.transform=function(t){return Object.create(this,{parse:{value:function(r,e){void 0===e&&(e=[]);for(var i=0,n=Object.getPrototypeOf(this).parse.call(this,r);i<n.length;i++){var a=t(n[i]);Array.isArray(a)?e.push.apply(e,a):e.push(a)}return e}}})},r}(l),T=function(t){function r(e){var i=t.call(this)||this;return i.commands="string"==typeof e?r.parse(e):e,i}return e(r,t),r.prototype.encode=function(){return r.encode(this.commands)},r.prototype.getBounds=function(){var t=u.CALCULATE_BOUNDS();return this.transform(t),t},r.prototype.transform=function(t){for(var r=[],e=0,i=this.commands;e<i.length;e++){var n=t(i[e]);Array.isArray(n)?r.push.apply(r,n):r.push(n)}return this.commands=r,this},r.encode=function(t){return function(t){var r="";Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];if(i.type===T.CLOSE_PATH)r+="z";else if(i.type===T.HORIZ_LINE_TO)r+=(i.relative?"h":"H")+i.x;else if(i.type===T.VERT_LINE_TO)r+=(i.relative?"v":"V")+i.y;else if(i.type===T.MOVE_TO)r+=(i.relative?"m":"M")+i.x+" "+i.y;else if(i.type===T.LINE_TO)r+=(i.relative?"l":"L")+i.x+" "+i.y;else if(i.type===T.CURVE_TO)r+=(i.relative?"c":"C")+i.x1+" "+i.y1+" "+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===T.SMOOTH_CURVE_TO)r+=(i.relative?"s":"S")+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===T.QUAD_TO)r+=(i.relative?"q":"Q")+i.x1+" "+i.y1+" "+i.x+" "+i.y;else if(i.type===T.SMOOTH_QUAD_TO)r+=(i.relative?"t":"T")+i.x+" "+i.y;else{if(i.type!==T.ARC)throw new Error('Unexpected command type "'+i.type+'" at index '+e+".");r+=(i.relative?"a":"A")+i.rX+" "+i.rY+" "+i.xRot+" "+ +i.lArcFlag+" "+ +i.sweepFlag+" "+i.x+" "+i.y}}return r}(t)},r.parse=function(t){var r=new d,e=[];return r.parse(t,e),r.finish(e),e},r.CLOSE_PATH=1,r.MOVE_TO=2,r.HORIZ_LINE_TO=4,r.VERT_LINE_TO=8,r.LINE_TO=16,r.CURVE_TO=32,r.SMOOTH_CURVE_TO=64,r.QUAD_TO=128,r.SMOOTH_QUAD_TO=256,r.ARC=512,r.LINE_COMMANDS=r.LINE_TO|r.HORIZ_LINE_TO|r.VERT_LINE_TO,r.DRAWING_COMMANDS=r.HORIZ_LINE_TO|r.VERT_LINE_TO|r.LINE_TO|r.CURVE_TO|r.SMOOTH_CURVE_TO|r.QUAD_TO|r.SMOOTH_QUAD_TO|r.ARC,r}(l),_=((f={})[T.MOVE_TO]=2,f[T.LINE_TO]=2,f[T.HORIZ_LINE_TO]=1,f[T.VERT_LINE_TO]=1,f[T.CLOSE_PATH]=0,f[T.QUAD_TO]=4,f[T.SMOOTH_QUAD_TO]=2,f[T.CURVE_TO]=6,f[T.SMOOTH_CURVE_TO]=4,f[T.ARC]=7,f);window&&(window.Vara=function(){function r(t,r,e,i){this.elementName=t,this.element=document.querySelector(t),this.fontSource=r,this.options=i,this.textItems=e,this.renderData=e,this.rendered=!1,this.fontCharacters={},this.canvasWidth=0,this.defaultOptions={fontSize:21,strokeWidth:.5,color:"#000",duration:1e3,textAlign:"left",autoAnimation:!0,queued:!0,delay:0,breakWord:!1,letterSpacing:{global:0},width:this.element.getBoundingClientRect().width},this.defaultCharacters={63:{paths:[{w:8.643798828125,h:14.231731414794922,my:22.666500004827977,mx:0,pw:28.2464542388916,d:"m 0,0 c -2,-6.01,5,-8.64,8,-3.98,2,4.09,-7,8.57,-7,11.85"},{w:1.103759765625,h:1.549820899963379,my:8.881500004827977,mx:1,pw:4.466640472412109,d:"m 0,0 a 0.7592,0.7357,0,0,1,0,0.735,0.7592,0.7357,0,0,1,-1,-0.735,0.7592,0.7357,0,0,1,1,-0.738,0.7592,0.7357,0,0,1,0,0.738 z"}],w:8.643798828125}},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.element.appendChild(this.canvas),this.init()}var e=r.prototype;return e.init=function(){var t=this;this.normalizeOptions();var r=new XMLHttpRequest;r.open("GET",this.fontSource,!0),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var e=JSON.parse(r.responseText);t.fontCharacters=e.c,t.fontProperties=e.p,t.render()}},r.send(null)},e.render=function(){this.calculatePositions(this.renderData[1]),this.draw(this.renderData[1])},e.draw=function(t){var r=this,e=t;this.ctx.strokeStyle=e.color,this.ctx.lineWidth=e.strokeWidth,this.ctx.fillStyle="transparent",e.render.text.split("").forEach((function(t){var e=t.charCodeAt(0);r.fontCharacters[e]&&r.fontCharacters[e].paths.forEach((function(t){var r=new T(t.d);console.log(r)}))}))},e.normalizeOptions=function(){var r=this;this.options=this.options||{},this.objectKeys(this.defaultOptions).forEach((function(t){void 0===r.options[t]&&(r.options[t]=r.defaultOptions[t])})),this.renderData.forEach((function(e,i){"string"==typeof e?r.renderData[i]=t({text:e},r.defaultOptions):"object"==typeof e&&r.objectKeys(r.options).forEach((function(t){void 0===e[t]&&(e[t]=r.options[t])}))})),Object.keys(this.defaultCharacters).forEach((function(t){void 0===r.fontCharacters[t]&&(r.fontCharacters[t]=r.defaultCharacters[t])}))},e.calculatePositions=function(t){var r=this,e=t;if(!e.breakWord){var i=("string"==typeof e.text?[e.text]:e.text).map((function(t){return t.split(" ")})),n=0,a=[""];i.forEach((function(t){t.forEach((function(t){var i=0;t.split("").forEach((function(t){var n=t.charCodeAt(0);i+=(r.fontCharacters[n]||r.fontCharacters[63]).w*(e.fontSize/16)})),n+i>e.width?(n=0,a.push(t)):(a[a.length-1]+=t,n+=i),a[a.length-1]+=" "}))})),a.forEach((function(t){e.render={text:t,x:e.x,y:e.y}}))}},e.createSVGNode=function(t,r){var e=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in r)e.setAttributeNS(null,i.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),r[i]);return e},e.objectKeys=function(t){return Object.keys(t)},r}())}));
//# sourceMappingURL=vara.umd.production.min.js.map
